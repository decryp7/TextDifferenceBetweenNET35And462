kind: pipeline
type: exec
name: default

platform:
  os: windows

steps:
- name: restore nuget packages
  commands:
    - c:\nuget\nuget.exe restore FormattedTextTest.sln
- name: compile
  commands:
    - Invoke-MsBuild -Path FormattedTextTest.sln -ShowBuildOutputInCurrentWindow -PassThru
- name: upload artifacts
  environment:
    repo_username:
      from_secret: repo_username
    repo_password:
      from_secret: repo_password
  commands:
    - echo $env:repo_username

